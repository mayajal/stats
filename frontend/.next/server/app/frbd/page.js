(()=>{var e={};e.id=653,e.ids=[653],e.modules={128:e=>{"use strict";e.exports=import("genkit")},254:e=>{"use strict";e.exports=require("genkit")},474:(e,r,s)=>{"use strict";s.d(r,{default:()=>a.a});var t=s(1261),a=s.n(t)},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1261:(e,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,r){for(var s in r)Object.defineProperty(e,s,{enumerable:!0,get:r[s]})}(r,{default:function(){return d},getImageProps:function(){return i}});let t=s(4985),a=s(4953),l=s(6533),n=t._(s(1933));function i(e){let{props:r}=(0,a.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,s]of Object.entries(r))void 0===s&&delete r[e];return{props:r}}let d=l.Image},1708:e=>{"use strict";e.exports=require("node:process")},2206:e=>{"use strict";e.exports=import("genkit/plugin")},2343:e=>{"use strict";e.exports=require("genkit/tracing")},2710:e=>{"use strict";e.exports=import("genkit/model")},2812:e=>{"use strict";e.exports=require("genkit/model")},3024:e=>{"use strict";e.exports=require("node:fs")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3136:e=>{"use strict";e.exports=require("node:url")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3566:e=>{"use strict";e.exports=require("worker_threads")},3873:e=>{"use strict";e.exports=require("path")},4073:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>o});var t=s(5239),a=s(8088),l=s(8170),n=s.n(l),i=s(893),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(r,d);let o={children:["",{children:["frbd",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4173)),"/Users/gajendrababubaktavachalam/WebApps/statviz/stats/frontend/src/app/frbd/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,4431)),"/Users/gajendrababubaktavachalam/WebApps/statviz/stats/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/gajendrababubaktavachalam/WebApps/statviz/stats/frontend/src/app/frbd/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/frbd/page",pathname:"/frbd",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},4173:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/gajendrababubaktavachalam/WebApps/statviz/stats/frontend/src/app/frbd/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/gajendrababubaktavachalam/WebApps/statviz/stats/frontend/src/app/frbd/page.tsx","default")},4309:(e,r,s)=>{Promise.resolve().then(s.bind(s,4173))},4555:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(2614).A)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},4573:e=>{"use strict";e.exports=require("node:buffer")},4708:e=>{"use strict";e.exports=require("node:https")},4743:e=>{"use strict";e.exports=require("genkit/embedder")},4793:e=>{"use strict";e.exports=require("genkit/model/middleware")},5511:e=>{"use strict";e.exports=require("crypto")},5549:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>g});var t=s(687),a=s(3210),l=s(5814),n=s.n(l),i=s(474),d=s(9523),o=s(4493),c=s(9667),u=s(7629),m=s(3729),p=s(4555),x=s(3103),h=s(6475);let b=(0,h.createServerReference)("40ef146b262430372e00e489675a858cd70768c14f",h.callServer,void 0,h.findSourceMapURL,"generateFrbdAnalysisSummary");function g(){let[e,r]=(0,a.useState)(null),[s,l]=(0,a.useState)([]),[h,g]=(0,a.useState)(!1),[f,j]=(0,a.useState)(""),[v,y]=(0,a.useState)([]),[N,_]=(0,a.useState)(0),[k,w]=(0,a.useState)(""),[S,A]=(0,a.useState)(""),[q,P]=(0,a.useState)(""),[R,$]=(0,a.useState)(""),[C,F]=(0,a.useState)(null),[O,B]=(0,a.useState)(""),[M,z]=(0,a.useState)(!1),[D,E]=(0,a.useState)(!1),[W,T]=(0,a.useState)(!1),Z=(0,a.useRef)(null),[I,L]=(0,a.useState)(null),U=(0,a.useRef)(null),[G,H]=(0,a.useState)(""),[V,J]=(0,a.useState)(!1),[Q,K]=(0,a.useState)(""),X=e=>{let r=[...e.matchAll(/Q\(['"]([^'\"]*)['"]\)/g)];if(r.length>0)return[...new Set(r.map(e=>e[1]))].join(":");let s=e.match(/^C\((.+)\)$/);return s?s[1]:e},Y=e=>!!e&&"string"==typeof e&&e.length<13981013.333333334,ee=(e,r)=>{try{if("string"==typeof e&&e.includes("<table")){let r=new DOMParser().parseFromString(e,"text/html").querySelector("table");if(r){let e=Array.from(r.querySelectorAll("th")).map(e=>e.textContent?.trim()||""),s=Array.from(r.querySelectorAll("tbody tr")).map(e=>Array.from(e.querySelectorAll("td, th")).map(e=>e.textContent?.trim()||""));if(e.length>0||s.length>0)return(0,t.jsx)("div",{className:"overflow-x-auto mb-6",children:(0,t.jsxs)("table",{className:"w-full border-collapse border border-green-300",children:[(0,t.jsx)("thead",{className:"bg-green-50",children:(0,t.jsx)("tr",{className:"bg-green-50",children:e.map((e,r)=>(0,t.jsx)("th",{className:"border border-green-300 px-4 py-2 text-left",children:e},`${e}-${r}`))})}),(0,t.jsx)("tbody",{children:s.map((e,r)=>(0,t.jsx)("tr",{children:e.map((e,s)=>(0,t.jsx)("td",{className:"border border-green-300 px-4 py-2",children:e},`${r}-${s}`))},r))})]})})}}let s=JSON.parse(e);if(!1===r&&Array.isArray(s)&&(s=s.map(e=>e.hasOwnProperty("Significance")?{...e,Significance:"NaN"}:e)),Array.isArray(s)&&s.length>0){let e=Object.keys(s[0]),r=[...s].sort((r,s)=>{let t=r[e[0]],a=s[e[0]];return"string"==typeof t&&"string"==typeof a?t.localeCompare(a):"number"==typeof t&&"number"==typeof a?t-a:String(t).localeCompare(String(a))});return(0,t.jsx)("div",{className:"overflow-x-auto mb-6",children:(0,t.jsxs)("table",{className:"w-full border-collapse border border-green-300",children:[(0,t.jsx)("thead",{className:"bg-green-50",children:(0,t.jsx)("tr",{className:"bg-green-50",children:e.map(e=>(0,t.jsx)("th",{className:"border border-green-300 px-4 py-2 text-left",children:e},e))})}),(0,t.jsx)("tbody",{children:r.map((r,s)=>(0,t.jsx)("tr",{children:e.map(e=>(0,t.jsx)("td",{className:"border border-green-300 px-4 py-2",children:"reject"===e||isNaN(Number(r[e]))||null===r[e]||""===String(r[e]).trim()?String(r[e]):Number(r[e]).toFixed(2)},`${s}-${e}`))},s))})]})})}let a=Object.keys(s);if(a.length>0&&"object"==typeof s[a[0]]&&null!==s[a[0]]&&!Array.isArray(s[a[0]])){let e=Object.keys(s[a[0]]);return(0,t.jsx)("div",{className:"overflow-x-auto mb-6",children:(0,t.jsxs)("table",{className:"w-full border-collapse border border-green-300",children:[(0,t.jsx)("thead",{className:"bg-green-50",children:(0,t.jsxs)("tr",{className:"bg-green-50",children:[(0,t.jsx)("th",{className:"border border-green-300 px-4 py-2 text-left"}),a.map(e=>(0,t.jsx)("th",{className:"border border-green-300 px-4 py-2 text-left",children:e},e))]})}),(0,t.jsx)("tbody",{children:e.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"border border-green-300 px-4 py-2 font-medium",children:e}),a.map(r=>(0,t.jsx)("td",{className:"border border-green-300 px-4 py-2",children:isNaN(Number(s[r][e]))||null===s[r][e]||""===String(s[r][e]).trim()?String(s[r][e]):Number(s[r][e]).toFixed(2)},`${e}-${r}`))]},e))})]})})}throw Error("JSON data is not in a recognized table format.")}catch(r){return(0,t.jsx)("div",{className:"overflow-x-auto bg-green-50 p-4 rounded-md mb-6",dangerouslySetInnerHTML:{__html:e}})}},er=async()=>{if(!e)return void j("Please select a file first");g(!0),j("");try{let r=await e.arrayBuffer(),s=x.LF(r),t=s.SheetNames[0],a=s.Sheets[t],n=x.Wp.sheet_to_json(a,{defval:null});if(0===n.length)return void j("No data found in the file");let i=0;n.forEach(e=>{Object.values(e).forEach(e=>{(null==e||""===e)&&i++})}),_(i),l(n);let d=Object.keys(n[0]||{});y(d),console.log("Column Headers:",d)}catch(e){j("Error processing file. Please ensure it's a valid Excel file.")}finally{g(!1)}},es=async()=>{if(!e||!k||!S||!q||!R)return void B("Please select a file and specify all column names.");let r=s.length>0?Object.keys(s[0]):[],t=[];if(r.includes(k)||t.push(`Block: ${k}`),r.includes(R)||t.push(`Response: ${R}`),r.includes(S)||t.push(`Factor 1: ${S}`),r.includes(q)||t.push(`Factor 2: ${q}`),t.length>0)return void B(`Column(s) not found in data: ${t.join("; ")}`);z(!0),B(""),F(null),E(!1),L(30),U.current=setInterval(()=>{L(e=>e?e-1:null)},1e3);let a=new FormData,l=JSON.stringify(s);a.append("data",l),a.append("block_col",k),a.append("factor_cols",[S,q].join(",")),a.append("response_col",R);let n="https://frbd-service-737809041422.us-central1.run.app/frbd/analyze";if(!n){B("FRBD service URL not configured"),z(!1);return}try{let e=new AbortController,r=setTimeout(()=>e.abort(),3e4),s=await fetch(n,{method:"POST",body:a,signal:e.signal});if(clearTimeout(r),!s.ok){let e=await s.json();throw Error(e.error||"Analysis failed")}let t=await s.json();F(t),E(!0)}catch(e){"AbortError"===e.name?B("Request timed out. Please try again."):B(e.message||"An unexpected error occurred")}finally{z(!1),U.current&&clearInterval(U.current),L(null)}},et=async()=>{if(!C)return void K("Please run the FRBD analysis first.");J(!0),K(""),H("");try{let e={anova_table:C.anova_table,tukey_results:C.tukey_results,shapiro:C.shapiro,mean_separation_results:C.mean_separation_results,overall_cv:C.overall_cv,cd_value:C.cd_value},r=await b(e);H(r)}catch(e){K(e.message||"Failed to generate AI summary.")}finally{J(!1)}};return(0,t.jsx)("div",{className:"min-h-screen bg-background p-4",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,t.jsx)(u.A,{className:"h-8 w-8 text-green-600 mr-3"}),(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"FRBD Analysis"})]}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Upload your Excel file and perform Factorial Randomized Block Design (FRBD) analysis."})]}),(0,t.jsxs)(o.Zp,{className:"mb-8 border border-green-200 rounded-lg",children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsxs)(o.ZB,{className:"flex items-center",children:[(0,t.jsx)(m.A,{className:"h-5 w-5 mr-2"}),"Upload Data File"]}),(0,t.jsx)(o.BT,{children:"Select an Excel (.xlsx) file containing your data (up to 5 MB)"})]}),(0,t.jsxs)(o.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"text-sm",children:["Before uploading check out the required data format.",(0,t.jsx)(n(),{href:"/data_arrangement#frbd-section",passHref:!0,children:(0,t.jsx)(d.$,{variant:"link",className:"p-1 h-auto ml-1, text-blue-600 hover:underline",children:"Read this to prepare your data."})})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(c.p,{type:"file",accept:".xlsx,.xls",onChange:e=>{let s=e.target.files?.[0];s&&(r(s),j(""),l([]),F(null))},className:"flex-1 bg-green-50",ref:Z}),(0,t.jsx)(d.$,{onClick:er,disabled:!e||h,className:"min-w-[120px]",children:h?"Processing...":"Process File"}),(0,t.jsx)(d.$,{onClick:()=>{r(null),l([]),j(""),w(""),A(""),P(""),$(""),F(null),B(""),z(!1),E(!1),T(!1),_(0),Z.current&&(Z.current.value="")},variant:"outline",disabled:!e&&0===s.length&&!C,className:"min-w-[120px]",children:"Reset"})]}),e&&(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Selected file: ",e.name]}),f&&(0,t.jsx)("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded",children:f})]})]}),s.length>0&&(0,t.jsxs)(o.Zp,{className:"mb-8 border border-green-200 rounded-lg",children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"Data Preview"}),(0,t.jsx)(o.BT,{children:"First 5 rows of the uploaded data."})]}),(0,t.jsxs)(o.Wu,{children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-green-200",children:[(0,t.jsx)("thead",{className:"bg-green-50",children:(0,t.jsx)("tr",{children:Object.keys(s[0]||{}).map(e=>(0,t.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e},e))})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-green-200",children:s.slice(0,5).map((e,r)=>(0,t.jsx)("tr",{children:Object.values(e).map((e,r)=>(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"number"==typeof e?e.toFixed(2):e?.toString()},r))},r))})]})}),(0,t.jsxs)("div",{className:"mt-4 text-sm text-muted-foreground",children:["Total rows: ",s.length]}),N>0&&(0,t.jsxs)("div",{className:"mt-2 text-sm text-yellow-600",children:["Warning: Found ",N," missing value(s) in your data. Rows with missing values will be excluded from the analysis."]})]})]}),(0,t.jsxs)(o.Zp,{className:"mb-8 border border-green-200 rounded-lg",children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"FRBD Analysis Setup"}),(0,t.jsx)(o.BT,{children:"Specify the columns for the analysis."})]}),(0,t.jsxs)(o.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block mb-1 font-medium",children:"Block Column (eg. replication)"}),(0,t.jsxs)("select",{value:k,onChange:e=>w(e.target.value),className:"block w-full p-2 border border-green-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm",children:[(0,t.jsx)("option",{value:"",children:"Select a column"}),v.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block mb-1 font-medium",children:"Response Column (eg. yield)"}),(0,t.jsxs)("select",{value:R,onChange:e=>$(e.target.value),className:"block w-full p-2 border border-green-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm",children:[(0,t.jsx)("option",{value:"",children:"Select a column"}),v.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block mb-1 font-medium",children:"Factor (1) Column"}),(0,t.jsxs)("select",{value:S,onChange:e=>A(e.target.value),className:"block w-full p-2 border border-green-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm",children:[(0,t.jsx)("option",{value:"",children:"Select a column"}),v.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block mb-1 font-medium",children:"Factor (2) Column"}),(0,t.jsxs)("select",{value:q,onChange:e=>P(e.target.value),className:"block w-full p-2 border border-green-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm",children:[(0,t.jsx)("option",{value:"",children:"Select a column"}),v.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]})]})]}),(0,t.jsxs)("div",{className:"px-6 pb-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[" ",(0,t.jsx)(d.$,{onClick:es,disabled:M||!k||!S||!q||!R,children:M?`Running Analysis... (${I}s)`:"Run FRBD Analysis"}),D&&!M&&(0,t.jsxs)("div",{className:"text-green-600 text-sm bg-green-50 p-3 rounded",children:[" ","Analysis over. Results are below."]})]}),O&&(0,t.jsx)("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded mt-4",children:O})]})]}),C&&(0,t.jsxs)(o.Zp,{className:"mb-8 border border-green-200 rounded-lg",children:[(0,t.jsx)(o.aR,{children:(0,t.jsx)(o.ZB,{children:"Diagnostic Plots and Normality Test"})}),(0,t.jsxs)(o.Wu,{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Diagnostic Plots"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[C.plots.residuals_vs_fitted&&Y(C.plots.residuals_vs_fitted)&&(0,t.jsxs)("div",{className:"border p-2 rounded-md",children:[(0,t.jsx)("h4",{className:"text-md font-medium mb-1",children:"Residuals vs Fitted"}),(0,t.jsx)(i.default,{src:`data:image/png;base64,${C.plots.residuals_vs_fitted}`,alt:"Residuals vs Fitted Plot",width:500,height:300,className:"w-full h-auto"})]}),C.plots.qq_plot&&Y(C.plots.qq_plot)&&(0,t.jsxs)("div",{className:"border p-2 rounded-md",children:[(0,t.jsx)("h4",{className:"text-md font-medium mb-1",children:"Normal Q-Q Plot"}),(0,t.jsx)(i.default,{src:`data:image/png;base64,${C.plots.qq_plot}`,alt:"Normal Q-Q Plot",width:500,height:300,className:"w-full h-auto"})]})]}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Shapiro-Wilk Test for Normality of Residuals"}),C.shapiro&&(0,t.jsxs)("div",{className:"bg-green-50 p-4 rounded-md mb-6",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Statistic:"})," ",C.shapiro.stat.toFixed(4)]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"P-value:"})," ",C.shapiro.p.toFixed(4)]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:C.shapiro.p<.05?"Residuals are likely not normally distributed (p < 0.05).":"Residuals appear to be normally distributed (p >= 0.05)."})]})]})]}),C&&(0,t.jsxs)(o.Zp,{className:"mb-8 border border-green-200 rounded-lg",children:[(0,t.jsxs)(o.aR,{className:"flex flex-row items-center justify-between",children:[(0,t.jsx)(o.ZB,{children:"FRBD Analysis Results"}),(0,t.jsxs)(d.$,{variant:"outline",size:"sm",onClick:()=>T(!W),children:[W?"Hide":"Show"," Raw JSON"]})]}),W&&(0,t.jsx)(o.Wu,{children:(0,t.jsx)("pre",{className:"p-4 bg-gray-100 rounded-md overflow-x-auto",children:JSON.stringify(C,null,2)})}),(0,t.jsxs)(o.Wu,{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"ANOVA Table"}),(0,t.jsx)("div",{className:"overflow-x-auto mb-6",children:C.anova_table&&(()=>{try{let e=JSON.parse(C.anova_table),r=Object.keys(e),s=r.length>0?Object.keys(e[r[0]]).length:0;if(0===s)return(0,t.jsxs)("p",{children:["ANOVA table is empty or could not be parsed. Raw data: ",C.anova_table]});return(0,t.jsxs)("table",{className:"w-full border-collapse border border-green-300",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-green-50",children:[(0,t.jsx)("th",{className:"border border-green-300 px-4 py-2 text-left",children:"Source of error"}),r.map((e,r)=>(0,t.jsx)("th",{className:"border border-green-300 px-4 py-2 text-left",children:e},r)),(0,t.jsx)("th",{className:"border border-green-300 px-4 py-2 text-left",children:"Significance (alpha=0.05)"})]})}),(0,t.jsx)("tbody",{children:Object.keys(e[r[0]]).map(s=>{let a=e["PR(>F)"]?.[s];return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"border border-green-300 px-4 py-2 font-medium",children:X(s)}),r.map((r,a)=>(0,t.jsx)("td",{className:"border border-green-300 px-4 py-2",children:e[r][s]},a)),(0,t.jsx)("td",{className:"border border-green-300 px-4 py-2",children:null!=a?a<.05?"Significant":"Not significant":""})]},s)})})]})}catch(e){return console.error("Error parsing ANOVA table:",e),(0,t.jsxs)("p",{children:["Error loading ANOVA table. Raw data: ",C.anova_table]})}})()}),null!==C.overall_cv&&void 0!==C.overall_cv&&(0,t.jsxs)("div",{className:"text-left text-sm text-muted-foreground mb-5",children:["Overall CV (%): ",C.overall_cv.toFixed(2)]}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Tukey HSD Post-Hoc Tests"}),C.tukey_results&&Object.keys(C.tukey_results).map(e=>(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("h4",{className:"text-md font-medium mb-1",children:["Factor: ",X(e)]}),ee(C.tukey_results[e])]},e)),(0,t.jsx)("h3",{className:"text-lg font-semibold my-4",children:"Mean Separation Results"}),C.mean_separation_results&&Object.keys(C.mean_separation_results).map(e=>{let r=X(e);return(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("h4",{className:"text-md font-medium mb-1",children:["Factor: ",r]}),ee(C.mean_separation_results[e])]},e)}),null!==C.cd_value&&void 0!==C.cd_value&&(0,t.jsxs)("div",{className:"text-left text-sm text-muted-foreground mb-5",children:["Critical Difference (CD): ",C.cd_value.toFixed(2)]}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Mean Plots"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[[S,q].map(e=>C.plots[`mean_bar_plot_${e}`]&&Y(C.plots[`mean_bar_plot_${e}`])&&(0,t.jsxs)("div",{className:"border p-2 rounded-md",children:[(0,t.jsxs)("h4",{className:"text-md font-medium mb-1",children:["Bar Plot for ",e]}),(0,t.jsx)(i.default,{src:`data:image/png;base64,${C.plots[`mean_bar_plot_${e}`]}`,alt:`Bar Plot for ${e}`,width:500,height:300,className:"w-full h-auto"})]},`bar-plot-${e}`)),[S,q].map(e=>C.plots[`mean_box_plot_${e}`]&&Y(C.plots[`mean_box_plot_${e}`])&&(0,t.jsxs)("div",{className:"border p-2 rounded-md",children:[(0,t.jsxs)("h4",{className:"text-md font-medium mb-1",children:["Box Plot for ",e]}),(0,t.jsx)(i.default,{src:`data:image/png;base64,${C.plots[`mean_box_plot_${e}`]}`,alt:`Box Plot for ${e}`,width:500,height:300,className:"w-full h-auto"})]},`box-plot-${e}`))]})]})]}),C&&(0,t.jsxs)(o.Zp,{className:"mb-8 border border-green-200 rounded-lg",children:[(0,t.jsx)(o.aR,{children:(0,t.jsx)(o.ZB,{children:"AI-Powered Summary"})}),(0,t.jsxs)(o.Wu,{children:[(0,t.jsxs)(d.$,{onClick:et,disabled:V,children:[(0,t.jsx)(p.A,{className:"h-4 w-4 mr-2"}),V?"Generating Summary...":"Generate AI Summary"]}),Q&&(0,t.jsx)("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded mt-4",children:Q}),G&&(0,t.jsx)("div",{className:"prose prose-sm max-w-none mt-4",dangerouslySetInnerHTML:{__html:G.replace(/\n/g,"<br />")}})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)(d.$,{disabled:!0,children:"Generate Report"})})]})]})})}},5576:e=>{"use strict";e.exports=require("genkit/logging")},6141:e=>{"use strict";e.exports=require("node:zlib")},6760:e=>{"use strict";e.exports=require("node:path")},7030:e=>{"use strict";e.exports=require("node:net")},7067:e=>{"use strict";e.exports=require("node:http")},7075:e=>{"use strict";e.exports=require("node:stream")},7629:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(2614).A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},7706:e=>{"use strict";e.exports=import("genkit/logging")},7830:e=>{"use strict";e.exports=require("node:stream/web")},7975:e=>{"use strict";e.exports=require("node:util")},8229:(e,r,s)=>{Promise.resolve().then(s.bind(s,5549))},9021:e=>{"use strict";e.exports=require("fs")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9428:e=>{"use strict";e.exports=require("buffer")},9771:e=>{"use strict";e.exports=require("process")}};var r=require("../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[814,707,183,985,621],()=>s(4073));module.exports=t})();